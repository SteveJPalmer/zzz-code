<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JS Animations</title>
</head>
<body>
  <h3>JavaScript animations  - timer method</h3><br>
  <button onclick="start_animation()">Start Animation</button>
  <button onclick="cancel_animation()">Cancel Animation</button>
  <div id="box" style="height: 20px; width: 20px; background-color: orange"></div>

  <script>
    var height = 20;
    var width = 20;
    var id = null;                //ensure global var

    function start_animation() {
      //manually start the timer
      id = setInterval(function(){

        var element = document.getElementById("box");

        height++;
        width++;
        var element = document.getElementById("box");
        element.style.height = height + "px";
        element.style.width = width + "px";

        console.log(element.style.height);

        if (height > 100) {
          clearInterval(id);          //stop animation on condition
        }

      }, 17);//1000ms is the execution delay

    }

    function cancel_animation() {
      //manually cancel animations latest frame
      clearInterval(id);
    }

  </script>


</body>
</html>